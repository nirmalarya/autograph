# AutoGraph v3 - Docker Compose Configuration

# Environment
ENV=docker
NODE_ENV=production
PYTHON_ENV=production
LOG_LEVEL=INFO

# PostgreSQL (Docker network)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=autograph
POSTGRES_USER=autograph
POSTGRES_PASSWORD=autograph_dev_password
DATABASE_URL=postgresql://autograph:autograph_docker_password@postgres:5432/autograph

# Redis (Docker network)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379

# MinIO (Docker network)
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET_DIAGRAMS=diagrams
MINIO_BUCKET_EXPORTS=exports
MINIO_BUCKET_UPLOADS=uploads

# JWT
JWT_SECRET=${JWT_SECRET:-please-set-jwt-secret-in-environment}
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# API Gateway
API_GATEWAY_PORT=8080
API_GATEWAY_HOST=0.0.0.0

# Microservices (Docker service names)
FRONTEND_PORT=3000
AUTH_SERVICE_HOST=auth-service
AUTH_SERVICE_PORT=8085
DIAGRAM_SERVICE_HOST=diagram-service
DIAGRAM_SERVICE_PORT=8082
AI_SERVICE_HOST=ai-service
AI_SERVICE_PORT=8084
COLLABORATION_SERVICE_HOST=collaboration-service
COLLABORATION_SERVICE_PORT=8083
GIT_SERVICE_HOST=git-service
GIT_SERVICE_PORT=8087
EXPORT_SERVICE_HOST=export-service
EXPORT_SERVICE_PORT=8097
INTEGRATION_HUB_HOST=integration-hub
INTEGRATION_HUB_PORT=8099
SVG_RENDERER_HOST=svg-renderer
SVG_RENDERER_PORT=8096

# AI Providers
MGA_API_KEY=${MGA_API_KEY}
MGA_ENDPOINT=https://chat.int.bayer.com/api/v2
MGA_MODEL=gpt-4.1
OPENAI_API_KEY=${OPENAI_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
GOOGLE_API_KEY=${GOOGLE_API_KEY}

# CORS
CORS_ORIGINS=http://frontend:3000,http://api-gateway:8080

# Rate Limiting
RATE_LIMIT_PER_USER=100
RATE_LIMIT_PER_IP=1000

# Request Timeout (seconds)
REQUEST_TIMEOUT=30

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
